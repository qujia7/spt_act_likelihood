# cobaya-run /Users/boris/Work/CLASS-SZ/SO-SZ/DR6_cosmopower_notebooks/lcdm_actplanck_baseline_167926925701.classy_szfast_evaluate.yaml -f
theory:

  classy_szfast.classy_sz.classy_sz:
    use_class_sz_fast_mode: 1
    lensing_lkl: ACT
    # ell_factor: False
    path: null
    # speed: 0.2
    stop_at_error: true
    extra_args:
      modes: s,t
      output: tCl,lCl,pCl
      skip_background_and_thermo: 1 # dont skip if you want all the derived params
      # [continue:] this is slightly slower but ok.
      skip_pkl: 1
      skip_pknl: 1
      skip_chi: 0
      skip_hubble: 0
      skip_sigma8_and_der: 0
      skip_sigma8_at_z: 0
      k_pivot : 0.05
      N_ncdm : 1
      N_ur : 2.0328
      m_ncdm: 0.06
      cosmo_model: 0


      class_sz_verbose: 0


likelihood:

  act_dr6_lenslike.ACTDR6LensLike:
    mock: false
    nsims_act: 792.0
    no_like_corrections: True
    lens_only: true
    trim_lmax: 2998
    variant: spt3g
    apply_hartlap: true
    limber: false
    nz: 100
    kmax: 10
    scale_cov: null
    type: []
    speed: -1
    stop_at_error: true
    version: null
    lmax: 4000
    input_params: []
    output_params: []
params:
  A:
    derived: 'lambda As: 1e9*As'
    latex: 10^9 A_\mathrm{s}

  logA:
    latex: ln10^{10}A_s
    prior:
      max: 3.5
      min: 2.5
    proposal: 0.12892144
    # drop: true
    ref:
      dist: norm
      loc: 2.9939341
      scale: 0.12892144
  As:
    derived: true
    latex: A_\mathrm{s}
  n_s:
    latex: n_\mathrm{s}
    prior:
      dist: norm
      loc: 0.96
      scale: 0.02
    proposal: 0.002
    ref:
      dist: norm
      loc: 0.965
      scale: 0.004
  s8h5:
    derived: 'lambda sigma8, H0: sigma8*(H0*1e-2)**(-0.5)'
    latex: \sigma_8/h^{0.5}
  s8omegamp25:
    derived: 'lambda sigma8, omegam: sigma8*omegam**0.25'
    latex: \sigma_8 \Omega_\mathrm{m}^{0.25}
  s8omegamp5:
    derived: 'lambda sigma8, omegam: sigma8*omegam**0.5'
    latex: \sigma_8 \Omega_\mathrm{m}^{0.5}
  S825:
    derived: 'lambda sigma8, omegam: sigma8*(omegam/0.3)**0.25'
    latex: \sigma_8 (\Omega_\mathrm{m}/0.3)^{0.25}
  S85:
    derived: 'lambda sigma8, omegam: sigma8*(omegam/0.3)**0.5'
    latex: \sigma_8 (\Omega_\mathrm{m}/0.3)^{0.5}
  sigma8:
    latex: \sigma_8
    derived: true
  # DHBBN: # [boris] this parameter does not seem to be computed in class.
  #   derived: 'lambda DH: 10**5*DH'
  #   latex: 10^5 \mathrm{D}/\mathrm{H}
  YHe:
    latex: Y_\mathrm{P}
    derived: true
  #   renames:
  #   - yheused
  #   - yhe
  # Y_p: # [boris] not clear what param that is, PLA tables seem to say its the same as YHe
  #   latex: Y_P^\mathrm{BBN}
  #   derived: true
  #   renames:
  #   - YpBBN
  age:
    latex: '{\rm{Age}}/\mathrm{Gyr}'
    derived: true
  mnu:
    value: 0.06

  omega_b:
    latex: \Omega_\mathrm{b} h^2
    prior:
      dist: norm
      loc: 0.02233
      scale: 0.00036
    proposal: 0.0001
    ref:
      dist: norm
      loc: 0.0224
      scale: 0.0001
    renames:
    - omegabh2
  omega_cdm:
    latex: \Omega_\mathrm{c} h^2
    prior:
      max: 0.99
      min: 0.005
    proposal: 0.0005
    ref:
      dist: norm
      loc: 0.12
      scale: 0.001
  #   renames:
  #   - omegach2
  # omega_de:
  #   latex: \Omega_\Lambda
  #   derived: true
  #   renames:
  #   - omegal
  omegam:
    latex: \Omega_\mathrm{m}
    derived: true
  omegamh2:
    derived: 'lambda omegam, H0: omegam*(H0/100)**2'
    latex: \Omega_\mathrm{m} h^2
  rdrag:
    latex: r_\mathrm{drag}
    derived: true
  zrei:
    latex: z_\mathrm{re}
    derived: true
  H0:
    latex: H_0
    prior:
      max: 90.0
      min: 50.0
    proposal: 2.0
    ref:
      dist: norm
      loc: 69.351243
      scale: 2.0
  tau_reio: 0.055

  # B:
  #   latex: B
  #   prior:
  #     max: 10.0
  #     min: 1.0
  #   proposal: 0.05
  #   ref:
  #     dist: norm
  #     loc: 1.5
  #     scale: 0.2
  #   derived: true
  # cosmomc_theta:
  #   derived: false
  #   value: 'lambda theta_MC_100: 1.e-2*theta_MC_100'
  # theta_MC_100:
  #   drop: true
  #   latex: 100\theta_\mathrm{MC}
  #   prior:
  #     max: 10
  #     min: 0.5
  #   proposal: 0.0002
  #   ref:
  #     dist: norm
  #     loc: 1.04109
  #     scale: 0.0004
  #   renames: theta

sampler:
  # evaluate:
  #   override:
  #     omega_b : 0.0209522
  #     omega_cdm : 0.115468
  #     H0 : 67.2704
  #     n_s : 0.961653
  #     logA : 3.05321
  mcmc:
    burn_in: 0
    max_tries: 10000
    covmat: /home/r/rbond/jiaqu/ACTxDESI33/mcmc/likelihood/chains/spt3g_lcdm_test_kappa.covmat
    covmat_params: null
    proposal_scale: 1.9
    output_every: 60s
    learn_every: 40d
    learn_proposal: true
    learn_proposal_Rminus1_max: 2.0
    learn_proposal_Rminus1_max_early: 30.0
    learn_proposal_Rminus1_min: 0.0
    max_samples: .inf
    Rminus1_stop: 0.01
    Rminus1_cl_stop: 0.2
    Rminus1_cl_level: 0.95
    Rminus1_single_split: 4
    measure_speeds: true
    oversample_power: 0.4
    oversample_thin: true
    drag: false
    callback_function: null
    callback_every: null
    seed: null
    check_every: null
    oversample: null
    drag_limits: null
    fallback_covmat_scale: 4
    version: 3.2.2
output:  /home/r/rbond/jiaqu/ACTxDESI33/mcmc/likelihood/chains/spt3g_lcdm_test_pp
version: 3.2.2
debug: False
timing: True
force: true